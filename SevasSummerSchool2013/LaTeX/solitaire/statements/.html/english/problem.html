<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Solitaire</TITLE>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Solitaire</DIV><DIV class="time-limit"><DIV class="property-title">time limit per test</DIV>1 second</DIV><DIV class="memory-limit"><DIV class="property-title">memory limit per test</DIV>128 megabytes</DIV><DIV class="input-file"><DIV class="property-title">input</DIV>stdin</DIV><DIV class="output-file"><DIV class="property-title">output</DIV>stdout</DIV></DIV><DIV class="legend"><P>&laquo;N-T solitaire&raquo; is a card game for one player. There are <SPAN class="tex-span">4<I>N</I></SPAN> (<SPAN class="tex-span">3&thinsp;&le;&thinsp;<I>N</I>&thinsp;&le;&thinsp;15)</SPAN> cards in the game and each card corresponds to a unique pair of it's value (an&nbsp;integer in the range&nbsp;<SPAN class="tex-span">1.&thinsp;.<I>N</I></SPAN>) and suit (<IMG align="middle" class="tex-formula" src="d8de865e828ae84a51060297696c36d80cdfbbe6.png">, <IMG align="middle" class="tex-formula" src="f9dc4488c6413833aba65dc14fdba88d82e70f54.png">, <IMG align="middle" class="tex-formula" src="075c4b750f7161255c6f0b0acecabc9d24052c13.png"> or&nbsp;<IMG align="middle" class="tex-formula" src="cd3943fc0dbce6e65062cb7c6257a0d0383b6bd5.png">). In the initial position all cards are laid out in <SPAN class="tex-span"><I>T</I></SPAN> (<SPAN class="tex-span">4&thinsp;&le;&thinsp;<I>T</I>&thinsp;&le;&thinsp;12)</SPAN> piles; moreover, each of <SPAN class="tex-span">(4<I>N</I>)%<I>T</I></SPAN> first piles has <SPAN class="tex-span">(4<I>N</I>&thinsp;/&thinsp;<I>T</I>)&thinsp;+&thinsp;1</SPAN> cards, others have <SPAN class="tex-span">4<I>N</I>&thinsp;/&thinsp;<I>T</I></SPAN> cards each (here "/" and "%"&nbsp;&mdash; integer division and remainder of division, respectively). If the sum of the values of upper cards of two piles is <SPAN class="tex-span"><I>N</I>&thinsp;+&thinsp;1</SPAN>, then these two cards can be moved to discard pile (irrespective of their suits). This is the only way to move the cards.</P><P>Write a program that will determine the maximum number of cards that one can move to the discard pile.</P></DIV><P></P><P></P><DIV class="input-specification"><DIV class="section-title">Input</DIV><P></P><P>The first line contains two integers <SPAN class="tex-span"><I>N</I></SPAN> and&nbsp;<SPAN class="tex-span"><I>T</I></SPAN>, then there are <SPAN class="tex-span"><I>T</I></SPAN>&nbsp;lines with descriptions of the corresponding piles. Each card is described as its value (an integer) and a suit (the char with ASCII-code 03(<IMG align="middle" class="tex-formula" src="075c4b750f7161255c6f0b0acecabc9d24052c13.png">), 04(<IMG align="middle" class="tex-formula" src="cd3943fc0dbce6e65062cb7c6257a0d0383b6bd5.png">), 05(<IMG align="middle" class="tex-formula" src="d8de865e828ae84a51060297696c36d80cdfbbe6.png">), or&nbsp;06(<IMG align="middle" class="tex-formula" src="f9dc4488c6413833aba65dc14fdba88d82e70f54.png">)) without space between. Descriptions of the cards inside the same pile are single-space separated. Description's direction from left to right corresponds to the order of cards from bottom to up.</P></DIV><P></P><P></P><DIV class="output-specification"><DIV class="section-title">Output</DIV><P></P><P>Your program should print a single integer &mdash; the maximum number of cards that can be moved to the discard pile.</P></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Sample test(s)</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Input</DIV><PRE class="content">3 5<BR>2<IMG align="middle" class="tex-formula" src="d8de865e828ae84a51060297696c36d80cdfbbe6.png"> 2<IMG align="middle" class="tex-formula" src="f9dc4488c6413833aba65dc14fdba88d82e70f54.png"> 2<IMG align="middle" class="tex-formula" src="075c4b750f7161255c6f0b0acecabc9d24052c13.png"><BR>2<IMG align="middle" class="tex-formula" src="cd3943fc0dbce6e65062cb7c6257a0d0383b6bd5.png"> 3<IMG align="middle" class="tex-formula" src="cd3943fc0dbce6e65062cb7c6257a0d0383b6bd5.png"> 1<IMG align="middle" class="tex-formula" src="075c4b750f7161255c6f0b0acecabc9d24052c13.png"><BR>3<IMG align="middle" class="tex-formula" src="f9dc4488c6413833aba65dc14fdba88d82e70f54.png"> 1<IMG align="middle" class="tex-formula" src="d8de865e828ae84a51060297696c36d80cdfbbe6.png"><BR>1<IMG align="middle" class="tex-formula" src="f9dc4488c6413833aba65dc14fdba88d82e70f54.png"> 3<IMG align="middle" class="tex-formula" src="075c4b750f7161255c6f0b0acecabc9d24052c13.png"><BR>1<IMG align="middle" class="tex-formula" src="cd3943fc0dbce6e65062cb7c6257a0d0383b6bd5.png"> 3<IMG align="middle" class="tex-formula" src="d8de865e828ae84a51060297696c36d80cdfbbe6.png"><BR></PRE></DIV><DIV class="output"><DIV class="title">Output</DIV><PRE class="content">10</PRE></DIV></DIV></DIV></DIV>   

</BODY></HTML>